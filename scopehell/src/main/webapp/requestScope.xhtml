<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:p="http://primefaces.org/ui">

<h:form id="requestScopeFormId">
	<h:body> 
		<h:outputText value="#{requestScopeCounter.viewName}"/>
		<br />
		<table>
			<tr>
				<td><h:outputText id="countOutputTextId" value="#{requestScopeCounter.counter}" /></td>
			</tr>
			<tr>
				<td><h:commandButton action="#{requestScopeCounter.countUpAction()}" value="カウントアップ(自画面遷移)" /></td>
			</tr>
			<tr>
				<td>
					<p:commandButton value="カウントアップ(ajax)" actionListener="#{requestScopeCounter.countUpActionListener()}" 
					                     ajax="true" 
					                     update=":requestScopeFormId:countOutputTextId" />
				</td>
			</tr>
			<tr>
				<td>
					<p:commandButton value="RequestScopeに遷移(現在のカウンタ数値を渡します。)" action="#{requestScopeCounter.showScope(requestScopeCounter.counter)}"/>
				</td>
			</tr>
			<tr>
				<td>
					<p:commandButton value="ViewScopeに遷移(現在のカウンタ数値を渡します。)" action="#{viewScopeCounter.showScope(requestScopeCounter.counter)}"/>
				</td>
			</tr>
			<tr>
				<td>
					<p:commandButton value="SessionScopeに遷移(現在のカウンタ数値を渡します。)" action="#{sessionScopeCounter.showScope(requestScopeCounter.counter)}"/>
				</td>
			</tr>
			<tr>
				<td>
					<p:commandButton value="ApplicationScopeに遷移(現在のカウンタ数値を渡します。)" action="#{applicationScopeCounter.showScope(requestScopeCounter.counter)}"/>
				</td>
			</tr>
		</table>
		<br />
		<table>
			<tr>
				<td><h:link id="requestScopeLinkId" outcome="requestScope.xhtml">request scope</h:link></td>
			</tr>
			<tr>
				<td><h:link id="viewScopeLinkId" outcome="viewScope.xhtml">view scope</h:link></td>
			</tr>
			<tr>
				<td><h:link id="sessionScopeLinkId" outcome="sessionScope.xhtml">session scope</h:link></td>
			</tr>
			<tr>
				<td><h:link id="applicationScopeLinkId" outcome="applicationScope.xhtml">application scope</h:link></td>
			</tr>
		</table>
		<br />
		<h:link id="indexRequestLinkId" outcome="index.xhtml">home</h:link>
	</h:body> 
</h:form>
</html>
